{"version":3,"sources":["components/menu/menu-opener.js"],"names":["body","document","hamburgerButton","querySelector","menu","cloneNode","menuContent","createElement","menuCloseButton","innerText","className","insertBefore","firstChild","appendChild","_iterator","_createForOfIteratorHelper","children","s","_step","n","done","list","parentNode","_iterator2","_step2","item","_iterator3","_step3","link","err","e","f","addMenu","style","overflow","animate","duration","timing","timingEaseOut","draw","progress","transform","opacity","removeMenu","then","contains","removeChild","addEventListener","window","event","target"],"mappings":"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","file":"menu-opener.js","sourcesContent":["let body = document.body;\nconst hamburgerButton = document.querySelector('.header__hamburger-button');\nlet menu = document.querySelector('.navigate-menu').cloneNode(true);\nlet menuContent = document.createElement('div');\nlet menuCloseButton = document.createElement('div');\n\nmenuCloseButton.innerText = 'Закрыть меню';\n\nmenu.className = 'menu';\nmenuContent.className = 'menu__content';\nmenuCloseButton.className = 'menu__close-button surface-button bg--red';\nmenuContent.insertBefore(menuCloseButton, menuContent.firstChild);\nmenu.appendChild(menuContent);\n\nfor (const list of menu.children) {\n    list.className = 'menu__list';\n    list.parentNode.insertBefore(menuContent, list);\n    menuContent.appendChild(list);\n\n    for (const item of list.children) {\n        item.className = 'menu__item';\n        \n        for (const link of item.children) {\n            link.className = 'menu__link surface-button bg--blueberry';\n        };\n    };\n};\n\nhamburgerButton.addEventListener('click', () => {\n    if (body.style.overflow == '') {\n        addMenu();\n    } else {\n        removeMenu();\n    };\n});\n\nwindow.addEventListener('click', (event) => {\n    if (\n        !hamburgerButton.contains(event.target) &&\n        !menuContent.contains(event.target) ||\n        menuCloseButton.contains(event.target)\n        ) {\n        removeMenu();\n    };\n});\n\nfunction addMenu() {\n    body.style.overflow = 'hidden';\n    body.appendChild(menu);\n\n    animate({\n        duration: 300,\n        timing: timingEaseOut,\n        draw(progress) {\n            menuContent.style.transform = `translateX(-${100 - progress * 100}%)`;\n            menu.style.opacity = progress;\n        }\n    });\n}\n\nfunction removeMenu() {\n    animate({\n        duration: 300,\n        timing: timingEaseOut,\n        draw(progress) {\n            menuContent.style.transform = `translateX(-${progress * 100}%)`;\n            menu.style.opacity = 1 - progress;\n        }\n    }).then(() => {\n        body.style.overflow = '';\n        if (body.contains(menu)) body.removeChild(menu);\n    })\n}\n"]}