{"version":3,"sources":["components/image/image-opener.js"],"names":["url","document","location","params","URL","search","pathname","replace","image","searchParams","get","src","documentElement","innerHTML","body"],"mappings":";;AAAA,IAAMA,GAAAA,GAAMC,QAAAA,CAASC,QAAAA;EACfC,MAAAA,GAAS,IAAIC,GAAAA,CAAIJ,GAAAA,CAAAA,CAAKK,MAAAA;AAE5B,IAAIF,MAAAA,EAAQ;EACV,IAAMG,CAAAA,GAAWN,GAAAA,CAAIM,QAAAA,CAASC,OAAAA,CAAQ,QAAA,EAAU,EAAA,CAAA;IAC1CC,CAAAA,GAAQ,IAAIJ,GAAAA,CAAIJ,GAAAA,CAAAA,CAAKS,YAAAA,CAAaC,GAAAA,CAAI,OAAA,CAAA,CAASH,OAAAA,CAAQ,GAAA,EAAK,GAAA,CAAA;IAC5DI,CAAAA,2BAAAA,MAAAA,CAA8BL,CAAAA,EAAAA,MAAAA,CAAWE,CAAAA,CAAAA;EAE/CP,QAAAA,CAASW,eAAAA,CAAgBC,SAAAA,4+BAAAA,MAAAA,CAqBdL,CAAAA,iBAAAA,EAGXP,QAAAA,CAASa,IAAAA,CAAKD,SAAAA,sDAAAA,MAAAA,CAC2BF,CAAAA,sMAE3C;AAAA","file":"image-opener.js","sourcesContent":["const url = document.location;\r\nconst params = new URL(url).search;\r\n\r\nif (params) {\r\n  const pathname = url.pathname.replace('/float', '');\r\n  const image = new URL(url).searchParams.get('image').replace(' ', '+');\r\n  const src = `/float/database/pages${pathname}${image}`;\r\n\r\n  document.documentElement.innerHTML = `\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <style>\r\n        body {margin: 0; background-color: #202020; font-family: Arial; letter-spacing: 4px; font-size: 36px;}\r\n        @media not print {\r\n            .fullZoomOut {cursor: zoom-out;}\r\n            .fullZoomIn {cursor: zoom-in;}\r\n            .shrinkToFit {cursor: zoom-in;}\r\n            .overflowingVertical, .overflowingHorizontalOnly {cursor: zoom-out;}\r\n        }\r\n        .isInObjectOrEmbed {width: 100%; height: 100vh;}\r\n        img {display: block;}\r\n        @media not print {\r\n            :root {color: #eee;}\r\n            img.transparent {color: #222; background: hsl(0,0%,90%) url(\"chrome://global/skin/media/imagedoc-lightnoise.png\");}\r\n            img {margin: auto; height: 100vh;}\r\n            img.overflowingVertical {margin-top: 0;}\r\n            .completeRotation {transition: transform 0.3s ease 0s;}\r\n        }\r\n        img {image-orientation: from-image;}\r\n    </style>\r\n    <title>${image}</title>\r\n  `;\r\n\r\n  document.body.innerHTML = `\r\n    <img class=\"image\" height=\"800\" src=\"${src}\" alt=\"Не удалось загрузить изображение\">\r\n  `;\r\n}\r\n"]}